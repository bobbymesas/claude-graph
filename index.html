<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claude Graph</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;0,700;1,500&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

<link rel="stylesheet" href="styles.css">

</head>
<body>

<div id="topbar">
  <span id="topbar-logo">Claude Graph</span>
  <span id="topbar-sep">·</span>
  <div class="tab-group">
    <button class="tab-btn active" data-tab="graph">Concept Map</button>
    <button class="tab-btn" data-tab="ref">Reference</button>
  </div>
  <button id="show-all-btn" class="tab-btn" title="Show all nodes at once">All nodes</button>
  <span id="topbar-hint">hover to preview · click to explore</span>
  <a href="https://github.com/bobbymesas/claude-graph" target="_blank" rel="noopener" aria-label="GitHub repository" class="github-link">
    <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12z"/>
    </svg>
  </a>
  <div class="theme-toggle">
    <button class="theme-btn" data-mode="light">Light</button>
    <button class="theme-btn active" data-mode="dark">Dark</button>
    <button class="theme-btn" data-mode="system">System</button>
  </div>
</div>

<div id="canvas-wrap"><canvas id="c"></canvas></div>

<div id="node-drawer">
  <button id="node-drawer-toggle">
    <span id="node-drawer-arrow">▲</span> Browse all nodes
  </button>
  <div id="node-drawer-body">
    <div id="node-index-section"></div>
  </div>
</div>

<div id="ref-panel">
  <div class="ref-container">

    <!-- ── NODE INDEX ────────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Reference</div>
      <h2>Node Index</h2>
      <p class="ref-lead">The searchable node index is on the <strong>Concept Map</strong> tab — use the "Browse all nodes" bar at the bottom of the graph.</p>
    </div>

    <!-- ── GETTING STARTED ──────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Getting Started</div>
      <h2>Installation</h2>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">macOS</div>
        <pre><code class="language-bash">curl -fsSL https://claude.ai/install.sh | bash</code></pre>
      </div>

      <div class="ref-links-grid">
        <a href="https://code.claude.com/docs/en/overview" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">Overview ↗</div>
          <div class="rlc-desc">What Claude Code is and how it works</div>
        </a>
        <a href="https://code.claude.com/docs/en/getting-started" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">Getting Started ↗</div>
          <div class="rlc-desc">Install, configure, run your first session</div>
        </a>
        <a href="https://code.claude.com/docs/en/cli-reference" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">CLI Reference ↗</div>
          <div class="rlc-desc">All flags, commands, and options</div>
        </a>
        <a href="https://code.claude.com/docs/en/settings" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">Settings ↗</div>
          <div class="rlc-desc">Full configuration reference</div>
        </a>
        <a href="https://code.claude.com/docs/en/hooks" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">Hooks ↗</div>
          <div class="rlc-desc">Lifecycle event automation</div>
        </a>
        <a href="https://code.claude.com/docs/en/sub-agents" target="_blank" rel="noopener" class="ref-link-card">
          <div class="rlc-title">Agents ↗</div>
          <div class="rlc-desc">Subagents and parallel tasks</div>
        </a>
      </div>
    </div>

    <!-- ── CLI REFERENCE ────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Getting Started</div>
      <h2>The <code style="font-family:inherit;font-size:inherit;background:var(--surf2);padding:2px 8px;border-radius:4px;border:1px solid var(--border)">claude</code> CLI</h2>
      <p class="ref-lead">Everything in Claude Code flows through the <code>claude</code> command. Start an interactive session, run one-shot prompts in scripts, manage MCP servers, or control behavior with flags.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">CLI flags</div>
        <pre><code class="language-bash">claude                             # start interactive session
claude -p "Fix the auth bug"       # headless: one-shot prompt
claude --model claude-opus-4-6     # override model for this session
claude --output-format json        # json | text | stream-json
claude --allowedTools Bash,Read    # restrict tools for this run
claude --max-turns 10              # cap the agentic loop iterations
claude --verbose                   # show full tool call details

# MCP subcommands
claude mcp add --transport stdio github \
  npx -y @modelcontextprotocol/server-github
claude mcp list
claude mcp remove github</code></pre>
      </div>

      <div class="ref-code-block">
        <div class="ref-code-block-header">In-session slash commands</div>
        <pre><code class="language-plaintext">/help           Show all available commands
/compact        Summarize conversation history (saves tokens)
/cost           Show token usage and estimated spend so far
/model          Switch model mid-session
/clear          Clear conversation and start fresh
/plan           Enter plan mode — propose before building
/init           Generate CLAUDE.md from your codebase
/output-style   Switch output style for this session
/memory         View or edit your CLAUDE.md files
/review         Run code review (if defined as a command)
/quit           Exit Claude Code</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker"><code>/compact</code></span>
          <span>Run this when the context window is filling up. Summarizes the conversation in place — Claude keeps working with the key facts at a fraction of the token cost.</span>
        </li>
        <li>
          <span class="rp-marker"><code>/plan</code></span>
          <span>Asks Claude to enter plan mode: propose a full approach before writing any code. You approve or redirect, then implementation begins. Prevents expensive wrong-direction work.</span>
        </li>
        <li>
          <span class="rp-marker"><code>/cost</code></span>
          <span>Shows token usage and estimated API spend for the current session. Useful for keeping large agentic workflows within budget.</span>
        </li>
        <li>
          <span class="rp-marker"><code>/init</code></span>
          <span>Analyzes your project and writes a starter <code>CLAUDE.md</code>. Run once when setting up a new project — then customize the output. Understand the primacy/recency bias before editing.</span>
        </li>
      </ul>
    </div>

    <!-- ── TOKENS ───────────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Foundations</div>
      <h2>Tokens</h2>
      <p class="ref-lead">Tokens are the basic unit of text that language models process. They're not exactly words — the tokenizer splits text at sub-word boundaries, grouping common sequences together. Cost and context limits are both measured in tokens, so having a rough sense of scale matters.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">Rough token scale</div>
        <pre><code class="language-plaintext">Rule of thumb: ~4 characters ≈ 1 token, ~750 words ≈ 1,000 tokens

"Hello, world!"                          →    ~4 tokens
A short function (10 lines)              →   ~60 tokens
A medium file (100 lines)                →  ~600 tokens
A large file (1,000 lines)               → ~6,000 tokens
GPT-4-length novel (100k words)          → ~130,000 tokens

# Estimate any file's token count:
wc -c myfile.ts | awk '{printf "~%d tokens\n", $1/4}'</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Input</span>
          <span>Everything Claude <em>reads</em> in a session — your message, file contents, tool results, CLAUDE.md — counts as input tokens.</span>
        </li>
        <li>
          <span class="rp-marker">Output</span>
          <span>Everything Claude <em>writes</em> — its replies, code edits, tool call arguments — counts as output tokens. Output costs more per token than input.</span>
        </li>
        <li>
          <span class="rp-marker">Code vs prose</span>
          <span>Code is often more token-dense than prose because of symbols, indentation, and repeated keywords. A 100-line TypeScript file can easily be 800–1,500 tokens.</span>
        </li>
      </ul>
    </div>

    <!-- ── CONTEXT WINDOW ────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Foundations</div>
      <h2>Context Window</h2>
      <p class="ref-lead">The context window is Claude's working memory — the total number of tokens it can see at once. Everything in a session shares this space: your conversation, loaded files, tool results, CLAUDE.md, and the system prompt. When it fills up, something has to give.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">What lives in the context window</div>
        <pre><code class="language-plaintext">┌─────────────────────────────────────────────────────┐
│  Context Window  (~200,000 tokens for Sonnet/Opus)  │
│                                                     │
│  System prompt          ~500–2,000 tokens           │
│  CLAUDE.md (loaded fresh each session)   ~variable  │
│  Conversation history   grows over time             │
│  File contents          (each Read adds tokens)     │
│  Tool call results      (Bash output, search hits)  │
│                                                     │
└─────────────────────────────────────────────────────┘

When full → older turns are dropped automatically
Use /compact to summarize history and reclaim space</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker"><code>/compact</code></span>
          <span>Summarizes the conversation history in place, dramatically reducing token usage while preserving the key facts Claude needs to continue working.</span>
        </li>
        <li>
          <span class="rp-marker">CLAUDE.md</span>
          <span>Loaded fresh at the start of every session, not carried over from previous ones — so it doesn't silently consume context across sessions.</span>
        </li>
        <li>
          <span class="rp-marker">Subagents</span>
          <span>Each subagent (spawned via the Task tool) gets its own isolated context window. This is one of the main reasons to use them — they don't share the parent's growing context.</span>
        </li>
        <li>
          <span class="rp-marker">Big codebases</span>
          <span>Reading many large files in one session fills the window fast. Prefer targeted reads (specific functions, not whole files) and use Grep/Glob to find exactly what you need.</span>
        </li>
      </ul>
    </div>

    <!-- ── AGENTIC LOOP ──────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Foundations</div>
      <h2>The Agentic Loop</h2>
      <p class="ref-lead">Claude Code doesn't respond in a single shot. It runs in a loop — thinking, calling a tool, reading the result, thinking again — until it decides the task is done. This is what makes it capable of multi-step work, and it's the foundation everything else is built on.</p>

      <hr class="ref-divider">

      <div class="loop-svg-wrap">
        <svg id="loop-diagram" class="loop-svg" viewBox="0 0 620 190" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <marker id="arr" viewBox="0 0 8 8" refX="7" refY="4" markerWidth="5" markerHeight="5" orient="auto">
              <path d="M0,0 L8,4 L0,8 Z" fill="#424955"/>
            </marker>
            <marker id="arr-accent" viewBox="0 0 8 8" refX="7" refY="4" markerWidth="5" markerHeight="5" orient="auto">
              <path d="M0,0 L8,4 L0,8 Z" fill="#d4a853"/>
            </marker>
          </defs>

          <!-- ── Static connector lines ── -->
          <!-- You → Claude -->
          <line x1="94" y1="84" x2="143" y2="84" stroke="#2a3448" stroke-width="1.5" marker-end="url(#arr)"/>
          <!-- Claude → Tool -->
          <line x1="283" y1="84" x2="332" y2="84" stroke="#2a3448" stroke-width="1.5" marker-end="url(#arr)"/>
          <!-- Tool → Result -->
          <line x1="448" y1="84" x2="497" y2="84" stroke="#2a3448" stroke-width="1.5" marker-end="url(#arr)"/>
          <!-- Result loops back to Claude (dashed curve below) -->
          <path id="loop-path" d="M557,102 C557,155 283,155 220,102"
                stroke="#2a3448" stroke-width="1.5" fill="none"
                stroke-dasharray="5,3" marker-end="url(#arr)"/>
          <!-- "repeat" label -->
          <text x="390" y="172" text-anchor="middle" font-size="9.5" fill="#424955" letter-spacing=".06em">REPEAT UNTIL DONE</text>

          <!-- Claude "when done" exit — downward dotted -->
          <line x1="213" y1="103" x2="213" y2="138" stroke="#2a3448" stroke-width="1" stroke-dasharray="3,2"/>
          <text x="222" y="155" font-size="9.5" fill="#424955" letter-spacing=".04em">↓ response when done</text>

          <!-- ── Nodes ── -->
          <!-- You -->
          <g id="ld-you">
            <rect x="8" y="66" width="86" height="36" rx="7" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
            <text x="51" y="87" text-anchor="middle" font-size="11" fill="#7d7566" font-weight="400">You</text>
          </g>

          <!-- Claude thinks -->
          <g id="ld-claude">
            <rect x="145" y="66" width="138" height="36" rx="7" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
            <text x="214" y="87" text-anchor="middle" font-size="11" fill="#7d7566" font-weight="400">Claude thinks</text>
          </g>

          <!-- Tool call -->
          <g id="ld-tool">
            <rect x="334" y="66" width="114" height="36" rx="7" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
            <text x="391" y="87" text-anchor="middle" font-size="11" fill="#7d7566" font-weight="400">Tool call</text>
          </g>

          <!-- Result -->
          <g id="ld-result">
            <rect x="499" y="66" width="112" height="36" rx="7" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
            <text x="555" y="87" text-anchor="middle" font-size="11" fill="#7d7566" font-weight="400">Result</text>
          </g>
        </svg>
      </div>

      <div class="ref-code-block">
        <div class="ref-code-block-header">A real loop — "Fix the auth bug"</div>
        <pre><code class="language-plaintext">You: "Fix the auth bug in login.ts"

  Claude thinks → calls Read("src/auth/login.ts")
  ← file contents

  Claude thinks → calls Grep("'await'", "src/auth/")
  ← finds missing awaits on line 47

  Claude thinks → calls Edit("src/auth/login.ts", ...)
  ← edit applied

  Claude thinks → calls Bash("npm test -- auth")
  ← tests pass

Claude: "Fixed. Missing await on verifyToken at line 47."</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Each step</span>
          <span>Every tool call is a round-trip to the model. Claude sees all previous results in its context before deciding what to do next.</span>
        </li>
        <li>
          <span class="rp-marker">Hooks</span>
          <span><strong>PreToolUse</strong> and <strong>PostToolUse</strong> hooks fire at the edges of each tool call — letting you log, validate, or transform inputs and outputs without changing the loop itself.</span>
        </li>
        <li>
          <span class="rp-marker">Subagents</span>
          <span>The Task tool spins up a child agent running its own independent loop with an isolated context window. Results are returned to the parent when the child finishes.</span>
        </li>
        <li>
          <span class="rp-marker">Stopping</span>
          <span>Claude decides when the task is complete. You can interrupt at any time, or use the <strong>Stop</strong> hook to run cleanup logic when a session ends.</span>
        </li>
      </ul>
    </div>

    <!-- ── MODELS ────────────────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Foundations</div>
      <h2>Models</h2>
      <p class="ref-lead">Claude Code supports multiple Claude models. Each sits at a different point on the capability / speed / cost curve. The right choice depends on the complexity of the task — most work is fine on Sonnet, but heavy reasoning benefits from Opus, and fast repetitive tasks are better on Haiku.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">Model comparison</div>
        <pre><code class="language-plaintext">Model                   Speed     Cost    Best for
──────────────────────────────────────────────────────────────
claude-opus-4-6         Slower    High    Complex reasoning, architecture,
                                          deep refactors, planning
claude-sonnet-4-6       Fast      Mid     General coding tasks (default)
claude-haiku-4-5        Fastest   Low     Simple edits, quick questions,
                                          high-volume automation</code></pre>
      </div>

      <div class="ref-code-block">
        <div class="ref-code-block-header">Switching models</div>
        <pre><code class="language-bash"># CLI flag (one session)
claude --model claude-opus-4-6

# In-session toggle (Haiku ↔ Sonnet)
/fast

# Set default in ~/.claude/settings.json
{
  "model": "claude-sonnet-4-6"
}

# Per-agent in frontmatter
---
model: claude-opus-4-6   ← this agent always uses Opus
---</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Default</span>
          <span><strong>Sonnet</strong> is the default for interactive sessions — a good balance of quality and speed for everyday coding tasks.</span>
        </li>
        <li>
          <span class="rp-marker">Agents</span>
          <span>Individual agents can specify their own model in frontmatter. A code-reviewer might use Opus for thoroughness; a file-renamer might use Haiku for speed.</span>
        </li>
        <li>
          <span class="rp-marker">Cost</span>
          <span>Use <code>/cost</code> in any session to see token usage and estimated spend so far.</span>
        </li>
      </ul>
    </div>

    <!-- ── PROJECT STRUCTURE ─────────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Best Practices</div>
      <h2>Project Structure</h2>
      <p class="ref-lead">Claude Code config lives in two places: a global directory on your machine and a project directory inside your repo. Understanding the split is essential for team collaboration — some files are committed and shared, others are personal and gitignored.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">Annotated directory tree</div>
        <pre><code class="language-plaintext">~/.claude/                        # GLOBAL — personal, never committed
├── settings.json                 #   Permissions, env vars, hooks (all projects)
├── CLAUDE.md                     #   Your personal instructions (always loaded)
├── keybindings.json              #   Custom keyboard shortcuts
├── agents/                       #   Personal subagent definitions
├── skills/                       #   Personal agent skills
├── rules/                        #   Rules applied to all your projects
└── projects/
    └── &lt;project-hash&gt;/
        ├── session-id.jsonl      #   Full conversation logs
        └── memory/
            └── MEMORY.md         #   Auto-memory (first 200 lines loaded)

.claude/                          # PROJECT — committed to git, team-shared
├── settings.json                 #   Team permissions &amp; hooks  ← commit this
├── settings.local.json           #   Your personal overrides   ← gitignore
├── CLAUDE.md                     #   Project instructions      ← commit this
├── CLAUDE.local.md               #   Your personal notes       ← gitignore
├── agents/                       #   Project subagents         ← commit this
├── skills/                       #   Project agent skills      ← commit this
├── rules/                        #   Modular instruction files ← commit this
│   ├── code-style.md
│   └── frontend/react.md
└── .mcp.json                     #   Project MCP servers       ← commit this</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Commit</span>
          <span><strong>.claude/settings.json, CLAUDE.md, agents/, skills/, rules/, .mcp.json</strong> — anything your teammates should benefit from. These travel with the repo.</span>
        </li>
        <li>
          <span class="rp-marker">Gitignore</span>
          <span><strong>*.local.json and *.local.md</strong> files — these are personal overrides that shouldn't affect teammates. Add <code>.claude/settings.local.json</code> and <code>.claude/CLAUDE.local.md</code> to your <code>.gitignore</code>.</span>
        </li>
        <li>
          <span class="rp-marker">Global</span>
          <span><strong>~/.claude/</strong> is entirely personal. Defaults, preferences, and personal agents you want across all your projects go here — it never touches git.</span>
        </li>
        <li>
          <span class="rp-marker">Precedence</span>
          <span>When the same setting exists in multiple places: <strong>local &gt; project &gt; global</strong>. A <code>settings.local.json</code> override always wins.</span>
        </li>
      </ul>
    </div>

    <!-- ── SDLC BEST PRACTICES ──────────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Best Practices</div>
      <h2>Claude Code in Your SDLC</h2>
      <p class="ref-lead">Claude Code fits naturally into every phase of the software development lifecycle — from planning a feature to shipping it. These patterns work well across solo projects and team codebases.</p>

      <hr class="ref-divider">

      <div class="ref-code-block">
        <div class="ref-code-block-header">Recommended workflow per task</div>
        <pre><code class="language-plaintext">1. Plan        /plan — propose approach, list files to touch
               ↓ you approve or redirect
2. Implement   Claude writes code in the agentic loop
               ↓ PostToolUse hooks auto-run formatters
3. Review      code-reviewer agent checks output
               ↓ findings grouped by severity
4. Test        qa agent or Bash("npm test") validates changes
               ↓ failures surface before commit
5. Commit      commit-helper skill writes the message
               ↓ git hooks run lint, typecheck, test
6. CI/CD       Headless: claude -p "..." in GitHub Actions</code></pre>
      </div>

      <div class="ref-code-block">
        <div class="ref-code-block-header">.github/workflows/claude-review.yml</div>
        <pre><code class="language-yaml">name: Claude Code Review
on: [pull_request]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with: { fetch-depth: 0 }

      - name: Review PR diff with Claude
        run: |
          git diff origin/main...HEAD | \
          claude -p "Review this diff for bugs, security
            issues, and missed edge cases. Output Markdown
            grouped by severity: Critical / Warning / Info." \
            --output-format text > review.md
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}

      - name: Post review comment
        uses: actions/github-script@v7
        with:
          script: |
            const body = require('fs').readFileSync('review.md','utf8');
            github.rest.issues.createComment({
              ...context.repo,
              issue_number: context.issue.number, body
            });</code></pre>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Plan first</span>
          <span>For any multi-file or architectural task, use <code>/plan</code> before implementation. Catching a wrong approach in the plan costs nothing; catching it after 10 tool calls costs tokens and time.</span>
        </li>
        <li>
          <span class="rp-marker">Hook automation</span>
          <span>Use <code>PostToolUse</code> hooks to run formatters (Prettier, gofmt, black) automatically on every file Claude writes. This keeps code clean without manual intervention or Claude forgetting to format.</span>
        </li>
        <li>
          <span class="rp-marker">Parallel review</span>
          <span>After implementation, spawn a <strong>code-reviewer</strong> and <strong>qa</strong> agent simultaneously via the Task tool. They run in parallel with isolated context — combined review + test in one round-trip.</span>
        </li>
        <li>
          <span class="rp-marker">CI integration</span>
          <span>Claude Code runs headless in GitHub Actions (or any CI). Pipe a PR diff through <code>claude -p</code> for automated review comments on every pull request — no human needed for first-pass review.</span>
        </li>
        <li>
          <span class="rp-marker">Context hygiene</span>
          <span>Run <code>/compact</code> at natural breakpoints — after finishing a feature, before starting the next. Keep <code>CLAUDE.md</code> under 500 lines. Use Grep/Glob for targeted reads instead of loading whole files.</span>
        </li>
      </ul>
    </div>

    <!-- ── CLAUDE.md BEST PRACTICES ────────────────────────── -->
    <div class="ref-section">
      <div class="ref-section-label">Best Practices</div>
      <h2>Writing Great CLAUDE.md Files</h2>
      <p class="ref-lead">CLAUDE.md is loaded fresh into Claude's context at the start of every session. It's the single highest-leverage thing you can configure. Writing it well dramatically improves quality and cuts token costs — writing it poorly does the opposite.</p>

      <hr class="ref-divider">

      <div class="loop-svg-wrap">
        <svg class="loop-svg" viewBox="0 0 640 210" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <marker id="pb-arr" viewBox="0 0 8 8" refX="7" refY="4" markerWidth="5" markerHeight="5" orient="auto">
              <path d="M0,0 L8,4 L0,8 Z" fill="#424955"/>
            </marker>
          </defs>

          <!-- ── Axes ── -->
          <line x1="72" y1="162" x2="72" y2="18" stroke="#2a3448" stroke-width="1.5" marker-end="url(#pb-arr)"/>
          <line x1="72" y1="162" x2="624" y2="162" stroke="#2a3448" stroke-width="1.5" marker-end="url(#pb-arr)"/>

          <!-- Y-axis label -->
          <text transform="translate(16,100) rotate(-90)" text-anchor="middle"
                font-size="9" fill="#424955" letter-spacing=".1em">REMEMBERED</text>

          <!-- X-axis label -->
          <text x="347" y="185" text-anchor="middle"
                font-size="9" fill="#424955" letter-spacing=".1em">POSITION IN CONTEXT</text>

          <!-- ── Curve fill ── -->
          <path d="M 86,42 C 168,150 258,155 348,155 C 438,155 528,150 610,42 L 610,162 L 86,162 Z"
                fill="rgba(212,168,83,0.06)"/>

          <!-- ── Curve stroke ── -->
          <path d="M 86,42 C 168,150 258,155 348,155 C 438,155 528,150 610,42"
                stroke="#d4a853" stroke-width="1.8" fill="none" stroke-opacity="0.5"/>

          <!-- ── X-axis ticks ── -->
          <line x1="86"  y1="159" x2="86"  y2="165" stroke="#2a3448" stroke-width="1.5"/>
          <line x1="610" y1="159" x2="610" y2="165" stroke="#2a3448" stroke-width="1.5"/>
          <text x="86"  y="177" text-anchor="middle" font-size="9.5" fill="#424955">Start</text>
          <text x="610" y="177" text-anchor="middle" font-size="9.5" fill="#424955">End</text>

          <!-- ── Middle annotation ── -->
          <line x1="348" y1="155" x2="348" y2="162" stroke="#2a3448" stroke-width="1" stroke-dasharray="3,2"/>
          <text x="348" y="178" text-anchor="middle" font-size="9" fill="#424955" letter-spacing=".04em">least remembered</text>

          <!-- ── Primacy dot + pulse + label ── -->
          <circle class="pb-ring" cx="86" cy="42" r="6" fill="none" stroke="#d4a853" stroke-width="1.2"/>
          <circle cx="86" cy="42" r="5" fill="#d4a853" opacity="0.9"/>
          <!-- dashed line up to label -->
          <line x1="86" y1="26" x2="86" y2="37" stroke="#d4a853" stroke-width="1" stroke-dasharray="2,2" opacity=".5"/>
          <!-- label box -->
          <rect x="22" y="10" width="90" height="22" rx="5" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
          <text x="67" y="25" text-anchor="middle" font-size="10" fill="#d4a853" font-weight="500">Primacy bias</text>

          <!-- ── Recency dot + pulse + label ── -->
          <circle class="pb-ring-delay" cx="610" cy="42" r="6" fill="none" stroke="#d4a853" stroke-width="1.2"/>
          <circle cx="610" cy="42" r="5" fill="#d4a853" opacity="0.9"/>
          <!-- dashed line up to label -->
          <line x1="610" y1="26" x2="610" y2="37" stroke="#d4a853" stroke-width="1" stroke-dasharray="2,2" opacity=".5"/>
          <!-- label box -->
          <rect x="528" y="10" width="90" height="22" rx="5" fill="#0e1220" stroke="#1b2235" stroke-width="1.5"/>
          <text x="573" y="25" text-anchor="middle" font-size="10" fill="#d4a853" font-weight="500">Recency bias</text>

          <!-- ── Guideline: put critical rules at top ── -->
          <line x1="86" y1="42" x2="86" y2="60" stroke="#d4a853" stroke-width="1" stroke-dasharray="3,2" opacity=".3"/>
          <text x="96" y="63" font-size="9" fill="#7d7566" letter-spacing=".03em">↑ put critical guardrails here</text>
        </svg>
      </div>

      <ul class="ref-points">
        <li>
          <span class="rp-marker">Run <code>/init</code></span>
          <span>The <code>/init</code> command analyzes your codebase and writes a starter CLAUDE.md with project context. Great starting point before customizing.</span>
        </li>
        <li>
          <span class="rp-marker">Size</span>
          <span>Keep CLAUDE.md between <strong>200–500 lines</strong>. It's loaded every session, so long files are expensive. If it grows larger, split into <code>.claude/rules/</code> files and <code>@</code>-include them.</span>
        </li>
        <li>
          <span class="rp-marker">Format</span>
          <span>Use <strong>bullet points and short headings</strong> rather than prose. Claude scans this file — structured content is processed more reliably than paragraphs.</span>
        </li>
        <li>
          <span class="rp-marker">Guardrails</span>
          <span>Put your most important rules <strong>at the top</strong> — things like "never delete files without confirmation" or "always run tests before marking tasks done". Primacy bias means these stick.</span>
        </li>
        <li>
          <span class="rp-marker">Living doc</span>
          <span>When Claude makes the same mistake twice, <strong>add a rule</strong>. Version-control your CLAUDE.md and prune it periodically — outdated rules add noise and cost tokens.</span>
        </li>
        <li>
          <span class="rp-marker">Avoid</span>
          <span>Don't dump entire style guides or API docs — that's very expensive and reduces quality. Don't write vague rules like "don't make any mistakes". Don't <code>@</code>-include huge files unless necessary.</span>
        </li>
      </ul>
    </div>

    <!-- ── CREDITS ─────────────────────────────────────────────── -->
    <div class="ref-credits">
      <div class="ref-credits-label">Sources &amp; Credit</div>

      <div class="ref-credits-row">
        <div class="ref-credits-icon">▶</div>
        <div class="ref-credits-body">
          <div class="ref-credits-name">
            <a href="https://www.youtube.com/watch?v=QoQBzR1NIqI" target="_blank" rel="noopener">
              Claude Code Full Course (4 Hours) — Nick Saraev
            </a>
          </div>
          <div class="ref-credits-desc">
            The concepts, examples, and best practices throughout this site are drawn primarily from Nick Saraev's comprehensive 2026 course on building and selling with Claude Code.
          </div>
        </div>
      </div>

      <div class="ref-credits-row">
        <div class="ref-credits-icon">◈</div>
        <div class="ref-credits-body">
          <div class="ref-credits-name">
            <a href="https://code.claude.com/docs/en/overview" target="_blank" rel="noopener">
              Claude Code Documentation — Anthropic
            </a>
          </div>
          <div class="ref-credits-desc">
            Official reference for all Claude Code features, settings, hooks, agents, and APIs.
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<div id="tooltip">
  <h3 id="tt-name"></h3>
  <p id="tt-desc"></p>
  <p class="tt-cat" id="tt-cat"></p>
</div>

<div id="panel">
  <div id="panel-resize"></div>
  <div class="p-head">
    <div class="p-cat" id="p-cat"></div>
    <div class="p-title" id="p-title"></div>
    <div id="p-badges"></div>
    <button id="p-close">✕</button>
  </div>
  <div class="p-body">
    <p class="p-desc" id="p-desc"></p>
    <div id="p-doclink"></div>
    <div id="p-examples"></div>
    <div id="p-related"></div>
  </div>
</div>

<button id="nav-back">← back</button>

<div id="legend">
  <div class="leg-title">Category</div>
  <div class="leg-item"><div class="leg-dot" style="background:#ecc050"></div><span class="leg-label">Core Concepts</span></div>
  <div class="leg-item"><div class="leg-dot" style="background:#74aee0"></div><span class="leg-label">Modes</span></div>
  <div class="leg-item"><div class="leg-dot" style="background:#6ed494"></div><span class="leg-label">Customization</span></div>
  <div class="leg-item"><div class="leg-dot" style="background:#b28ae0"></div><span class="leg-label">Integration</span></div>
  <div class="leg-item"><div class="leg-dot" style="background:#b8a898"></div><span class="leg-label">Detail</span></div>
</div>

<div id="kb-hints">
  <span>←↑↓→ navigate</span>
  <span>Enter select</span>
  <span>Esc back</span>
  <span>A expand all</span>
  <span>? toggle hints</span>
  <span class="kb-close" onclick="this.parentElement.classList.remove('visible')">✕</span>
</div>

<footer id="site-footer">
  <a href="https://github.com/bobbymesas/claude-graph" target="_blank" rel="noopener" aria-label="GitHub repository">
    <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12z"/>
    </svg>
  </a>
  <span>Not affiliated with or endorsed by Anthropic. Claude is a trademark of Anthropic, PBC.</span>
</footer>

<script type="module" src="app.js"></script>

</body>
</html>
